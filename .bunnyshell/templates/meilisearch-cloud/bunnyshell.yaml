kind: Environment
name: MeiliSearch Cloud
type: primary
components:
  - kind: Application
    name: meilisearch
    gitRepo: 'https://github.com/trapcodeio/bunnyshell-templates.git'
    gitBranch: main
    gitApplicationPath: components/meilisearch-cloud
    dockerCompose:
      build:
        context: ./components/meilisearch-cloud
        dockerfile: Dockerfile
        target: prod
      environment:
        MEILI_MASTER_KEY: 'default_master_key'
        MEILI_HTTP_ADDR: '0.0.0.0:7700'
      ports:
        - '7700:7700'
      deploy:
        resources:
          limits:
            memory: 1G
          reservations:
            memory: 1G
    hosts:
      - hostname: 'search-{{ env.base_domain }}'
        path: /
        servicePort: 7700